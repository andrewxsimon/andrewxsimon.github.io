<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Project 5: Fun with Diffusion Models!</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            color: white;
            margin-bottom: 40px;
        }

        .header h1 {
            font-size: 3rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .header p {
            font-size: 1.2rem;
            opacity: 0.9;
        }

        .section {
            background: white;
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }

        .section-header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 3px solid #667eea;
        }

        .section-title {
            font-size: 2.5rem;
            color: #333;
            margin-bottom: 10px;
        }

        .subsection {
            margin-bottom: 40px;
        }

        .subsection-title {
            font-size: 1.8rem;
            color: #333;
            margin-bottom: 20px;
            text-align: center;
        }

        .text-space {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 30px;
            border: 2px dashed #ddd;
            min-height: 100px;
        }

        .text-space h4 {
            color: #333;
            margin-bottom: 15px;
            font-size: 1.2rem;
        }

        .text-space p {
            color: #666;
            line-height: 1.6;
        }

        .image-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }

        .image-item {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .image-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(0,0,0,0.2);
        }

        .image-display {
            width: 100%;
            height: 300px;
            background: #f5f5f5;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 10px;
            overflow: hidden;
        }

        .image-display img {
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
            pointer-events: none;
            user-select: none;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            -webkit-user-drag: none;
            -khtml-user-drag: none;
            -moz-user-drag: none;
            -o-user-drag: none;
        }

        .image-display video,
        .image-display gif {
            pointer-events: none;
            user-select: none;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            -webkit-user-drag: none;
            -khtml-user-drag: none;
            -moz-user-drag: none;
            -o-user-drag: none;
        }

        .comparison-section {
            margin-bottom: 30px;
        }

        .comparison-title {
            font-size: 1.4rem;
            color: #333;
            margin-bottom: 15px;
            text-align: center;
            font-weight: 600;
        }

        .progression-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }

        .image-title {
            text-align: center;
            color: #333;
            font-size: 0.9rem;
            font-weight: 500;
            margin-top: 5px;
            padding: 0 5px;
        }

        .row-grid {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 20px;
            margin-bottom: 20px;
        }

        @media (max-width: 768px) {
            .image-grid {
                grid-template-columns: 1fr;
            }
            
            .row-grid {
                grid-template-columns: 1fr;
            }
            
            .progression-grid {
                grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            }
            
            .header h1 {
                font-size: 2rem;
            }

            .section-title {
                font-size: 2rem;
            }

            .subsection-title {
                font-size: 1.5rem;
            }
        }
    </style>
    <script>
        // Prevent right-click context menu on images
        document.addEventListener('contextmenu', function(e) {
            if (e.target.tagName === 'IMG') {
                e.preventDefault();
                return false;
            }
        });
    </script>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Project 5: Fun with Diffusion Models!</h1>
            <p>Andrew Song</p>
        </div>

        <!-- 5A: The Power of Diffusion Models! -->
        <div class="section">
            <div class="section-header">
                <h2 class="section-title">5A: The Power of Diffusion Models!</h2>
            </div>

            <!-- Part 0: Setup -->
            <div class="subsection">
                <h3 class="subsection-title">Part 0: Setup</h3>
                <div class="text-space">
                    <p>I played around with the DeepFloyd diffusion model to generate images of my own prompts. I played with the number of inference steps and chose 20 and 100 (left and right side). The images with 100 inference steps
                        looked to be higher quality. This makes sense since the quality of images increases with the number of steps the model takes. Here are 3 of the prompts I used.
                    </p>
                </div>
                <div class="image-grid" style="grid-template-columns: repeat(2, 1fr);">
                    <div class="image-item">
                        <div class="image-display">
                            <img src="media/5a-0-hockey.png" alt="Hockey Original" loading="lazy">
                        </div>
                        <div class="image-title">"a photo of a hockey player"</div>
                    </div>
                    <div class="image-item">
                        <div class="image-display">
                            <img src="media/5a-0-hockey-100.png" alt="Hockey Processed" loading="lazy">
                        </div>
                        <div class="image-title">"a photo of a hockey player"</div>
                    </div>
                    <div class="image-item">
                        <div class="image-display">
                            <img src="media/5a-0-ramen.png" alt="Ramen Original" loading="lazy">
                        </div>
                        <div class="image-title">"a bowl of ramen noodles"</div>
                    </div>
                    <div class="image-item">
                        <div class="image-display">
                            <img src="media/5a-0-ramen-100.png" alt="Ramen Processed" loading="lazy">
                        </div>
                        <div class="image-title">"a bowl of ramen noodles"</div>
                    </div>
                    <div class="image-item">
                        <div class="image-display">
                            <img src="media/5a-0-tree.png" alt="Tree Original" loading="lazy">
                        </div>
                        <div class="image-title">"an oil painting of a christmas tree"</div>
                    </div>
                    <div class="image-item">
                        <div class="image-display">
                            <img src="media/5a-0-tree-100.png" alt="Tree Processed" loading="lazy">
                        </div>
                        <div class="image-title">"an oil painting of a christmas tree"</div>
                    </div>
                </div>
            </div>

            <!-- Part 1: Sampling Loops -->
            <div class="subsection">
                <h3 class="subsection-title">Part 1: Sampling Loops</h3>

                <!-- Part 1.1: Implementing the Forward Process -->
                <div class="subsection">
                    <h4 class="subsection-title" style="font-size: 1.5rem;">Part 1.1: Implementing the Forward Process</h4>
                    <div class="text-space">
                        <p>I implemented the forward process which takes a clean image and adds noise to it. Given a clean image x0, we achieve a noisy image xt at timestep t.
                            Here are the images for the forward process at timesteps 250, 500, and 750.
                        </p>
                    </div>
                    <div class="image-grid">
                        <div class="image-item">
                            <div class="image-display">
                                <img src="media/5a-1-1-250.png" alt="Forward Process 250" loading="lazy">
                            </div>
                        </div>
                        <div class="image-item">
                            <div class="image-display">
                                <img src="media/5a-1-1-500.png" alt="Forward Process 500" loading="lazy">
                            </div>
                        </div>
                        <div class="image-item">
                            <div class="image-display">
                                <img src="media/5a-1-1-750.png" alt="Forward Process 750" loading="lazy">
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Part 1.2: Classical Denoising -->
                <div class="subsection">
                    <h4 class="subsection-title" style="font-size: 1.5rem;">Part 1.2: Classical Denoising</h4>
                    <div class="image-grid" style="grid-template-columns: 1fr;">
                        <div class="image-item">
                            <div class="image-display">
                                <img src="media/5a-1-2.png" alt="Classical Denoising" loading="lazy">
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Part 1.3: One-Step Denoising -->
                <div class="subsection">
                    <h4 class="subsection-title" style="font-size: 1.5rem;">Part 1.3: One-Step Denoising</h4>
                    <div class="image-grid" style="grid-template-columns: 1fr;">
                        <div class="image-item">
                            <div class="image-display">
                                <img src="media/5a-1-3.png" alt="One-Step Denoising" loading="lazy">
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Part 1.4: Iterative Denoising -->
                <div class="subsection">
                    <h4 class="subsection-title" style="font-size: 1.5rem;">Part 1.4: Iterative Denoising</h4>
                    <div class="progression-grid">
                        <div class="image-item">
                            <div class="image-display">
                                <img src="media/5a-1-4-10.png" alt="Iterative Denoising 10" loading="lazy">
                            </div>
                        </div>
                        <div class="image-item">
                            <div class="image-display">
                                <img src="media/5a-1-4-15.png" alt="Iterative Denoising 15" loading="lazy">
                            </div>
                        </div>
                        <div class="image-item">
                            <div class="image-display">
                                <img src="media/5a-1-4-20.png" alt="Iterative Denoising 20" loading="lazy">
                            </div>
                        </div>
                        <div class="image-item">
                            <div class="image-display">
                                <img src="media/5a-1-4-25.png" alt="Iterative Denoising 25" loading="lazy">
                            </div>
                        </div>
                        <div class="image-item">
                            <div class="image-display">
                                <img src="media/5a-1-4-30.png" alt="Iterative Denoising 30" loading="lazy">
                            </div>
                        </div>
                        <div class="image-item">
                            <div class="image-display">
                                <img src="media/5a-1-4-onestep.png" alt="One-Step Denoising Result" loading="lazy">
                            </div>
                        </div>
                        <div class="image-item">
                            <div class="image-display">
                                <img src="media/5a-1-4-blurred.png" alt="Blurred Image" loading="lazy">
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Part 1.5: Diffusion Model Sampling -->
                <div class="subsection">
                    <h4 class="subsection-title" style="font-size: 1.5rem;">Part 1.5: Diffusion Model Sampling</h4>
                    <div class="row-grid">
                        <div class="image-item">
                            <div class="image-display">
                                <img src="media/5a-1-5-a.png" alt="Diffusion Sampling A" loading="lazy">
                            </div>
                        </div>
                        <div class="image-item">
                            <div class="image-display">
                                <img src="media/5a-1-5-b.png" alt="Diffusion Sampling B" loading="lazy">
                            </div>
                        </div>
                        <div class="image-item">
                            <div class="image-display">
                                <img src="media/5a-1-5-c.png" alt="Diffusion Sampling C" loading="lazy">
                            </div>
                        </div>
                        <div class="image-item">
                            <div class="image-display">
                                <img src="media/5a-1-5-d.png" alt="Diffusion Sampling D" loading="lazy">
                            </div>
                        </div>
                        <div class="image-item">
                            <div class="image-display">
                                <img src="media/5a-1-5-e.png" alt="Diffusion Sampling E" loading="lazy">
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Part 1.6: Classifier-Free Guidance (CFG) -->
                <div class="subsection">
                    <h4 class="subsection-title" style="font-size: 1.5rem;">Part 1.6: Classifier-Free Guidance (CFG)</h4>
                    <div class="text-space">
                        <p>In order to improve the image quality, we can use a technique called classifier-free guidance (CFG). We compute both a conditional and unconditional noise estimate.
                            We achieve a final noise estimate by using these two estimates and a guidance scale factor. We now achieve higher quality images compared to 1.5.
                        </p>
                    </div>
                    <div class="row-grid">
                        <div class="image-item">
                            <div class="image-display">
                                <img src="media/5a-1-6-a.png" alt="CFG Result A" loading="lazy">
                            </div>
                        </div>
                        <div class="image-item">
                            <div class="image-display">
                                <img src="media/5a-1-6-b.png" alt="CFG Result B" loading="lazy">
                            </div>
                        </div>
                        <div class="image-item">
                            <div class="image-display">
                                <img src="media/5a-1-6-c.png" alt="CFG Result C" loading="lazy">
                            </div>
                        </div>
                        <div class="image-item">
                            <div class="image-display">
                                <img src="media/5a-1-6-d.png" alt="CFG Result D" loading="lazy">
                            </div>
                        </div>
                        <div class="image-item">
                            <div class="image-display">
                                <img src="media/5a-1-6-e.png" alt="CFG Result E" loading="lazy">
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Part 1.7: Image-to-Image Translation -->
                <div class="subsection">
                    <h4 class="subsection-title" style="font-size: 1.5rem;">Part 1.7: Image-to-Image Translation</h4>
                    <div class="image-grid">
                        <div class="image-item">
                            <div class="image-display">
                                <img src="media/5a-1-7-cam.png" alt="Image Translation Campanile" loading="lazy">
                            </div>
                        </div>
                        <div class="image-item">
                            <div class="image-display">
                                <img src="media/5a-1-7-cms.png" alt="Image Translation CMS" loading="lazy">
                            </div>
                        </div>
                        <div class="image-item">
                            <div class="image-display">
                                <img src="media/5a-1-7-bridge.png" alt="Image Translation Bridge" loading="lazy">
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Part 1.7.1: Editing Hand-Drawn and Web Images -->
                <div class="subsection">
                    <h4 class="subsection-title" style="font-size: 1.5rem;">Part 1.7.1: Editing Hand-Drawn and Web Images</h4>
                    <div class="image-grid">
                        <div class="image-item">
                            <div class="image-display">
                                <img src="media/cat.jpeg" alt="Original Cat Image" loading="lazy">
                            </div>
                        </div>
                        <div class="image-item">
                            <div class="image-display">
                                <img src="media/5a-1-7-1-cat.png" alt="Processed Cat Image" loading="lazy">
                            </div>
                        </div>
                    </div>
                    <div class="image-grid">
                        <div class="image-item">
                            <div class="image-display">
                                <img src="media/house.png" alt="Original House Drawing" loading="lazy">
                            </div>
                        </div>
                        <div class="image-item">
                            <div class="image-display">
                                <img src="media/5a-1-7-1-house.png" alt="Processed House Drawing" loading="lazy">
                            </div>
                        </div>
                    </div>
                    <div class="image-grid">
                        <div class="image-item">
                            <div class="image-display">
                                <img src="media/city.png" alt="Original City Drawing" loading="lazy">
                            </div>
                        </div>
                        <div class="image-item">
                            <div class="image-display">
                                <img src="media/5a-1-7-1-city.png" alt="Processed City Drawing" loading="lazy">
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Part 1.7.2: Inpainting -->
                <div class="subsection">
                    <h4 class="subsection-title" style="font-size: 1.5rem;">Part 1.7.2: Inpainting</h4>
                    <div class="text-space">
                        <p>We implement inpainting here where we can recreate a new image from the original image and a binary mask. The image will generate new content
                            wherever the mask is equal to 1. Here I implement the mask to change the top of the Campanile, the inside of the CMS, and the water under the Bay Bridge.
                        </p>
                    </div>
                    <div class="image-grid" style="grid-template-columns: 1fr;">
                        <div class="image-item">
                            <div class="image-display">
                                <img src="media/5a-1-7-2-mask.png" alt="Inpainting Mask" loading="lazy">
                            </div>
                        </div>
                    </div>
                    <div class="image-grid">
                        <div class="image-item">
                            <div class="image-display">
                                <img src="media/5a-1-7-2-campanile.png" alt="Inpainting Campanile" loading="lazy">
                            </div>
                        </div>
                        <div class="image-item">
                            <div class="image-display">
                                <img src="media/5a-1-7-2-cms.png" alt="Inpainting CMS" loading="lazy">
                            </div>
                        </div>
                        <div class="image-item">
                            <div class="image-display">
                                <img src="media/5a-1-7-2-bridge.png" alt="Inpainting Bridge" loading="lazy">
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Part 1.7.3: Text-Conditional Image-to-Image Translation -->
                <div class="subsection">
                    <h4 class="subsection-title" style="font-size: 1.5rem;">Part 1.7.3: Text-Conditional Image-to-Image Translation</h4>
                    <div class="image-grid">
                        <div class="image-item">
                            <div class="image-display">
                                <img src="media/5a-1-7-3-campanile.png" alt="Text-Conditional Campanile" loading="lazy">
                            </div>
                            <div class="image-title">"an oil painting of a christmas tree" from campanile</div>
                        </div>
                        <div class="image-item">
                            <div class="image-display">
                                <img src="media/5a-1-7-3-cms.png" alt="Text-Conditional CMS" loading="lazy">
                            </div>
                            <div class="image-title">"a bowl of ramen noodles" from the CMS</div>
                        </div>
                        <div class="image-item">
                            <div class="image-display">
                                <img src="media/5a-1-7-3-bridge.png" alt="Text-Conditional Bridge" loading="lazy">
                            </div>
                            <div class="image-title">"a race car" from the Bay Bridge</div>
                        </div>
                    </div>
                </div>

                <!-- Part 1.8: Visual Anagrams -->
                <div class="subsection">
                    <h4 class="subsection-title" style="font-size: 1.5rem;">Part 1.8: Visual Anagrams</h4>
                    <div class="text-space">
                        <p>Now we can create optical illusions through visual anagrams. We denoise an original image xt with prompt p1.
                            We denoise the flipped version of xt with prompt p2. We then combine the two images to create an optical illusion, where you can see a different thing
                            when the image is upside down. Here are two examples I was able to generate.
                        </p>
                    </div>
                    <div class="image-grid">
                        <div class="image-item">
                            <div class="image-display">
                                <img src="media/5a-1-8-piano-city.png" alt="Piano-City Visual Anagram" loading="lazy">
                            </div>
                        </div>
                        <div class="image-item">
                            <div class="image-display">
                                <img src="media/5a-1-8-lion-squirrel.png" alt="Lion-Squirrel Visual Anagram" loading="lazy">
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Part 1.9: Hybrid Images -->
                <div class="subsection">
                    <h4 class="subsection-title" style="font-size: 1.5rem;">Part 1.9: Hybrid Images</h4>
                    <div class="text-space">
                        <p>We are now able to make hybrid images by implementing factorized diffusion. We get noise estimates for our low pass and high pass filters and achieve a final noise estimate.
                            Here are two hybrid images I was able to get.
                        </p>
                    </div>
                    <div class="image-grid">
                        <div class="image-item">
                            <div class="image-display">
                                <img src="media/5a-1-9-pyramid-waterfall.png" alt="Pyramid-Waterfall Hybrid" loading="lazy">
                            </div>
                            <div class="image-title">"a lithograph of pyramids" and "a waterfall"</div>
                        </div>
                        <div class="image-item">
                            <div class="image-display">
                                <img src="media/5a-1-9-sunset-basketball.png" alt="Sunset-Basketball Hybrid" loading="lazy">
                            </div>
                            <div class="image-title">"a photo of a sunset" and "a basketball"</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 5B: Flow Matching from Scratch! -->
        <div class="section">
            <div class="section-header">
                <h2 class="section-title">5B: Flow Matching from Scratch!</h2>
            </div>

            <!-- Part 1: Training a Single-Step Denoising Unit -->
            <div class="subsection">
                <h3 class="subsection-title">Part 1: Training a Single-Step Denoising Unit</h3>

                <!-- Part 1.1: Implementing the UNet -->
                <div class="subsection">
                    <h4 class="subsection-title" style="font-size: 1.5rem;">Part 1.1: Implementing the UNet</h4>
                    <div class="text-space">
                        <p>We implement the denoiser as a UNet, which consists of a bunch of convolution layers with a few downsampling and upsampling blocks.</p>
                    </div>
                </div>

                <!-- Part 1.2: Using the UNet to Train a Denoiser -->
                <div class="subsection">
                    <h4 class="subsection-title" style="font-size: 1.5rem;">Part 1.2: Using the UNet to Train a Denoiser</h4>
                    <div class="text-space">
                        <p>We can now train our denoiser for an MNIST dataset. We train our denoiser with a noisy image z while using our UNet model
                            and the Adam optimizer. Below are some of our denoised results and training loss plots. We also show plots for denoising pure, random Gaussian noise
                            and training our denoiser.
                        </p>
                    </div>
                    <div class="image-grid" style="grid-template-columns: 1fr;">
                        <div class="image-item">
                            <div class="image-display">
                                <img src="media/5b1-2.png" alt="UNet Denoiser Training" loading="lazy">
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Part 1.2.1: Training -->
                <div class="subsection">
                    <h4 class="subsection-title" style="font-size: 1.5rem;">Part 1.2.1: Training</h4>
                    <div class="image-grid">
                        <div class="image-item">
                            <div class="image-display">
                                <img src="media/5b1-2-1-ep1.png" alt="Training Epoch 1" loading="lazy">
                            </div>
                        </div>
                        <div class="image-item">
                            <div class="image-display">
                                <img src="media/5b-1-2-1-ep5.png" alt="Training Epoch 5" loading="lazy">
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Part 1.2.2: Out-of-Distribution Training -->
                <div class="subsection">
                    <h4 class="subsection-title" style="font-size: 1.5rem;">Part 1.2.2: Out-of-Distribution Training</h4>
                    <div class="image-grid" style="grid-template-columns: 1fr;">
                        <div class="image-item">
                            <div class="image-display">
                                <img src="media/5b1-2-2.png" alt="Out-of-Distribution Training" loading="lazy">
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Part 1.2.3: Denoising Pure Noise -->
                <div class="subsection">
                    <h4 class="subsection-title" style="font-size: 1.5rem;">Part 1.2.3: Denoising Pure Noise</h4>
                    <div class="image-grid" style="grid-template-columns: 1fr;">
                        <div class="image-item">
                            <div class="image-display">
                                <img src="media/5b-1-2-3.png" alt="Denoising Pure Noise" loading="lazy">
                            </div>
                        </div>
                    </div>
                    <div class="image-grid">
                        <div class="image-item">
                            <div class="image-display">
                                <img src="media/5b1-2-3-ep1.png" alt="Denoising Epoch 1" loading="lazy">
                            </div>
                        </div>
                        <div class="image-item">
                            <div class="image-display">
                                <img src="media/5b1-2-3-ep5.png" alt="Denoising Epoch 5" loading="lazy">
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Part 2: Training a Flow Matching Model -->
            <div class="subsection">
                <h3 class="subsection-title">Part 2: Training a Flow Matching Model</h3>
                <div class="text-space">
                    <p>Since one-step denoising does not work well for generative tasks, we need to iteratively denoise the image and so we will implement flow matching.
                        We train a UNet model to predict 'flow' from our noisy data to clean data. Our aim is to learn a UNet to approximate this flow u(xt, t)
                    </p>
                </div>

                <!-- Part 2.1: Adding Time Conditioning to UNet -->
                <div class="subsection">
                    <h4 class="subsection-title" style="font-size: 1.5rem;">Part 2.1: Adding Time Conditioning to UNet</h4>
                    <div class="text-space">
                        <p>To add time-conditioning we inject a scalar t to fully-connected blocks. We can now train the UNet to predict the flow.
                            We essentially pick a random image x1, a random timestep t, and add noise to x1 to get xt, then train the denoiser.
                            We repeat the process for different images and different timesteps until the model converges. We then take samples of our UNet. 
                        </p>
                    </div>
                </div>

                <!-- Part 2.2: Training the UNet -->
                <div class="subsection">
                    <h4 class="subsection-title" style="font-size: 1.5rem;">Part 2.2: Training the UNet</h4>
                    <div class="image-grid" style="grid-template-columns: 1fr;">
                        <div class="image-item">
                            <div class="image-display">
                                <img src="media/5b-2-2.png" alt="Flow Matching UNet Training" loading="lazy">
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Part 2.3: Sampling from the UNet -->
                <div class="subsection">
                    <h4 class="subsection-title" style="font-size: 1.5rem;">Part 2.3: Sampling from the UNet</h4>
                    <div class="image-grid">
                        <div class="image-item">
                            <div class="image-display">
                                <img src="media/5b-2-3-ep1.png" alt="Sampling Epoch 1" loading="lazy">
                            </div>
                        </div>
                        <div class="image-item">
                            <div class="image-display">
                                <img src="media/5b-2-3-ep5.png" alt="Sampling Epoch 5" loading="lazy">
                            </div>
                        </div>
                        <div class="image-item">
                            <div class="image-display">
                                <img src="media/5b-2-3-ep10.png" alt="Sampling Epoch 10" loading="lazy">
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Part 2.4: Adding Class-Conditioning to UNet -->
                <div class="subsection">
                    <h4 class="subsection-title" style="font-size: 1.5rem;">Part 2.4: Adding Class-Conditioning to UNet</h4>
                    <div class="text-space">
                        <p>To make theresults better, we can condition our UNet on the classes of the digits 0-9. We can now condition our UNet
                            on a timestep t and a one-hot encoded class-conditioning vector c. The training and sampling process is similar to before, but now
                            with improved results.
                        </p>
                    </div>
                </div>

                <!-- Part 2.5: Training the UNet -->
                <div class="subsection">
                    <h4 class="subsection-title" style="font-size: 1.5rem;">Part 2.5: Training the UNet</h4>
                    <div class="image-grid" style="grid-template-columns: 1fr;">
                        <div class="image-item">
                            <div class="image-display">
                                <img src="media/5b-2-5.png" alt="Class-Conditioned UNet Training" loading="lazy">
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Part 2.6: Sampling from the UNet -->
                <div class="subsection">
                    <h4 class="subsection-title" style="font-size: 1.5rem;">Part 2.6: Sampling from the UNet</h4>
                    <div class="image-grid">
                        <div class="image-item">
                            <div class="image-display">
                                <img src="media/5b-2-6-ep1.png" alt="Class-Conditioned Sampling Epoch 1" loading="lazy">
                            </div>
                        </div>
                        <div class="image-item">
                            <div class="image-display">
                                <img src="media/5b-2-6-ep5.png" alt="Class-Conditioned Sampling Epoch 5" loading="lazy">
                            </div>
                        </div>
                        <div class="image-item">
                            <div class="image-display">
                                <img src="media/5b-2-6-ep10.png" alt="Class-Conditioned Sampling Epoch 10" loading="lazy">
                            </div>
                        </div>
                    </div>
                    <div class="image-grid" style="grid-template-columns: 1fr;">
                        <div class="image-item">
                            <div class="image-display">
                                <img src="media/5b-2-6.png" alt="Class-Conditioned Sampling Result" loading="lazy">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
</html>

